<head>
	<title>Create 8tracks Shortcode</title>
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
	<script type="text/javascript" src="../../../wp-includes/js/tinymce/tiny_mce_popup.js"></script>
	<script type="text/javascript">
		var eighttracks = {
	e: '',
	init: function(e) {
		eighttracks.e = e;
		tinyMCEPopup.resizeToInnerSize();
	},
	insert: function createeighttracksShortcode(e) {
		//Create eighttracks Shortcode
		var url = $('#eighttracksURL').val();
		var width = $('#eighttracksWidth').val();
		var height = $('#eighttracksHeight').val();
		var flash = $('#eighttracksFlash').val();
		var playops = $('#eighttracksPlayops').val();
		var tags = $('#eighttracksTags').val();
		var artist = $('#eighttracksArtist').val();
		var dj = $('#eighttracksDJ').val();
		var collection = $('#eighttracksCollection').val();
		var perpage = $('#eighttracksPerpage').val();
		var sort = $('#eighttracksSort').val();
		var output = '[8tracks ';

		if(url) {
			output += 'url="'+url+'" ';
		}
		if(width) {
			output += 'width="'+width+'" ';
		}
		if(height) {
			output += 'height="'+height+'" ';
		}
		if(tags) {
			output += 'tags="'+tags+'" ';
		}
		if(artist) {
			output += 'artist="'+artist+'" ';
		}
		if(dj) {
			output += 'dj="'+dj+'" ';
		}
		if(flash) {
			output += 'flash="'+flash+'" ';
		}
		if(playops) {
			output += 'playops="'+playops+'" ';
		}		
		if(collection) {
			output += 'collection="'+collection+'" ';
		}
		if(perpage) {
			output += 'perpage="'+perpage+'" ';
		}
		if(sort) {
			output += 'sort="'+sort+'" ';
		}
		output += ']';
		
		tinyMCEPopup.execCommand('mceReplaceContent', false, output);
		
		tinyMCEPopup.close();
		
	}

}

tinyMCEPopup.onInit.add(eighttracks.init, eighttracks);
	</script>
</head>

<body>
<form id="eighttracksShortcode">
	<p>Just want a random mix?</p>
	<table>
	   <tr>
	   <td><label for="eighttracksTags">Tags (comma separated):</label></td>
	   <td><label for="eighttracksArtist">Artist:</label></td>
	   </tr>
	   <tr>
       <td><input id="eighttracksTags" type="text" value="" /></td>
       <td><input id="eighttracksArtist" type="text" value="" /></td>
       </tr>
       <tr>
	   <td><label for="eighttracksCollection">Display as collection?</label>
		   <select name="eighttracksCollection" id="eighttracksCollection">
		   <option value="no">No</option>
		   <option value="yes">Yes</option>
		   </select>
		 </td>
	     <td>
			<label for="eighttracksPerpage">Mixes per page? (Default 4)</label>
			<input id="eighttracksPerpage" type="number" value="" />
		 </td>
		 <td><label for="eighttracksSort">Collection Type</label>
		     <select name="eighttracksSort" id="eighttracksSort">
		     <option value="">None</option>
		     <option value="recent">New</option>
		     <option value="hot">Trending</option>
		     <option value="popular">Popular</option>
		     </select></td>
		</tr>
	</table>
	<hr>
	<p>Rather have something specific?</p>
	<table>
    <tr>
	<td><label for="eighttracksURL">URL for your mix:</label>
	<td><label for="eighttracksDJ">Specific DJ/Username:</label></td>
	</tr>
	<tr>
	<td><input id="eighttracksURL" type="text" value="" /></td>
	<td><input id="eighttracksDJ" type="text" value="" /></td>
	</tr>
	</table>
	<hr>
	<p>Some options for your mix:</p>
	<table>
	<tr>
	<td><label for="eighttracksWidth">Width:</label></td>
	<td><label for="eighttracksHeight">Height:</label></td>
	<td><label for="eighttracksPlayops">Player Options</label><br /></td>
	<td><label for="eighttracksFlash">Flash?</label><br /></td>	
	</tr>
	<tr>
	<td><input id="eighttracksWidth" type="number" value="" /></td>
	<td><input id="eighttracksHeight" type="number" value="" /></td>
	<td><select name="eighttracksPlayops" id="eighttracksPlayops">
		<option value="">None</option>
		<option value="shuffle">Shuffle</option>
		<option value="autoplay">Autoplay</option>
		<option value="shuffle+autoplay">Shuffle and Autoplay</option>
		</select>
	</td>
	<td><select name="eighttracksFlash" id="eighttracksFlash">
		<option value="no">No</option>
		<option value="yes">Yes</option>
		</select>
		</td>
	</tr>
	</table>
	<hr><br />
	<p><a href="javascript:eighttracks.insert(eighttracks.e)">Create Shortcode</a></p>
</form>
</body>

</html>